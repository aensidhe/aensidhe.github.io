---
layout: post
title: Неофициальный докер-образ для Tarantool
excerpt: Даёшь тег в докер хабе на каждый пакет тарантула!
categories: blog
lang: ru
tags:
  - tarantool
  - progaudi
  - docker
  - announce
comments: true
---

Я писал [раньше]{{ site.baseurl }}{% post_url /blog/2017-05-03-tarantool-on-windows %}, что если вы смотрите на тег образа [в официальном репозитории Tarantool](https://github.com/tarantool/docker/), непонятно какая сборка внутри. Например, до недавнего времени в теге 1.7 был билд 1.7.5-0-g24b70de10. Теперь там 1.7.5-250-g8c55b4993. Если вы хотите проверенную стабильную версию - это замечательно, команда Тарантула обновляет образ только, когда они уверены, что всё отлично.

При этом, если вы ставите Тарантул из пакетов, у вас гораздо больше манёвра: https://packagecloud.io/tarantool/. На каждый коммит в основную ветку создаётся пакет и его можно скачать. Следовательно, вы можете выбрать конкретную версию и сидеть на ней. Или каждый день обновляться до самой новой. Как пожелаете.

Я сделал отдельный репозиторий в докере, который будет на каждый коммит в основную ветку создавать тег, а также обновлять мажорные и минорные. Пример: допустим, мы собираем Тарантул из ветки 1.7, коммит [300bc7dac](https://github.com/tarantool/tarantool/commit/300bc7daccfc8ae3ace5a064ba190a7d3b9787be). Тогда версия у нас будет 1.7.5-257-g300bc7dac (это вывод `git describe`). Мы соберём новый образ, пометим его тегом билда `1.7.5-257-g300bc7dac`, минорной версии `1.7.5` и мажорной `1.7`. Таким образом, в 1.7 будет самая последняя сборка из этой ветки, в 1.7.5 - самая последняя сборка 1.7.5 и так далее.

Дополнительно, я обновил все пакеты, входящие в поставку, до последних версий и добавил luautf8 (будет доступен с билдов после 31го октября). Все изменения в [апстриме](https://github.com/tarantool/docker/) заливаем к себе обычно в течение суток. По всем вопросам можно писать сюда или в [багтрекер](https://github.com/progaudi/tarantool-docker/issues)

Для бесшовного переезда добавлен тег `1.7.5-0-g24b70de10`, который идентичен старому официальному образу с тегом 1.7.